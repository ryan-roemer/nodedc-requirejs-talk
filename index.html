<!DOCTYPE html><!--[if lt IE 7]><html lang="en" class="no-js lt-ie9 lt-ie8 lt-ie7"></html><![endif]--><!--[if IE 7]><html lang="en" class="no-js lt-ie9 lt-ie8"></html><![endif]--><!--[if IE 8]><html lang="en" class="no-js lt-ie9"></html><![endif]--><!--[if gt IE 8]><!--><html lang="en" class="no-js"><!--<![endif]--><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><title>Node.DC - Shared Code with RequireJS</title><meta name="description" content=""><meta name="viewport" content="width=1024, user-scalable=no"><!-- Required stylesheets--><link rel="stylesheet" href="core/deck.core.css"><!-- Starter kit custom styles.--><link rel="stylesheet" href="css/slides.custom.css"><!-- Extension CSS files go here. Remove or add as needed.--><link rel="stylesheet" href="extensions/goto/deck.goto.css"><link rel="stylesheet" href="extensions/menu/deck.menu.css"><link rel="stylesheet" href="extensions/navigation/deck.navigation.css"><link rel="stylesheet" href="extensions/status/deck.status.css"><link rel="stylesheet" href="extensions/hash/deck.hash.css"><link rel="stylesheet" href="extensions/scale/deck.scale.css"><!-- Style theme. More available in /themes/style/ or create your own.--><!--link(rel="stylesheet", href="themes/style/swiss.css")--><!-- Transition. More available in /themes/transition/ or create your own.--><link rel="stylesheet" href="themes/transition/horizontal-slide.css"><!-- Plugin: CodeMirror--><link rel="stylesheet" href="plugins/codemirror/deck.codemirror.css"><link rel="stylesheet" href="plugins/codemirror/themes/elegant.css"><!-- Modernizr.--><script src="js/vendor/modernizr.custom.js"></script></head><body><div class="deck-container"><section id="title" class="slide"><h1>Shared Code with AMD/RequireJS</h1></section><section id="amd" class="slide"><h2>Asynchronous Module Definition</h2>

<p>The <a href="https://github.com/amdjs/amdjs-api/wiki/AMD">Asynchronous Module Definition</a> (<em>AMD</em>) specification provides
a framework for defining JavaScript modules and dependencies for
predictable loading.</p>

<ul><li>A fork of / transport for <a href="http://www.commonjs.org/">CommonJS</a></li><li>Brings <code>require</code>-like support to the frontend.</li></ul></section><section id="why" class="slide"><h2>Why AMD?</h2>

<ul><li>Frontend JavaScript dependencies are a mess.</li><li>Allow us the real potential to have <strong>shared</strong> code between the
frontend and a backend Node.js server.</li></ul></section><section id="sample-code" class="slide"><h2>Shuffle!</h2>

<p>Looks like a basic Node.js backend function with a dependency on
<a href="http://underscorejs.org/">underscore</a>.</p><textarea id="code" name="code" mode="javascript" style="display: none;" class="code">var _ = require('underscore');

// Shuffle a list (space/comma separated).
var shuffle = function (val) {
  val = val || "";
  return _.shuffle(val.split(/[\s,]+/));
};
</textarea></section><section id="require-nodejs" class="slide"><h2>Prep for AMD</h2>

<p>Use the <a href="https://github.com/jrburke/amdefine">amdefine</a> module in a standard boilerplate.</p><textarea id="code" name="code" mode="javascript" style="display: none;" class="code">if (typeof define !== 'function') {
  var define = require('amdefine')(module);
}
</textarea></section><section id="express" class="slide"><h2>Express REST API</h2>

<p>Let&#39;s create a JSON <a href="http://127.0.0.1:3003/shuffle?val=1+2+3+4+5">REST API</a> with our new function.</p><textarea id="code" name="code" mode="javascript" style="display: none;" class="code">// At the top...
var shuffle = require('../lib-shared/shuffle');

// ... meanwhile, in our Express setup.
app.get("/shuffle", function (req, res) {
  var input = req.param('val'),
    shuffled = shuffle(input);
    
  return res.json(shuffled, 200);
});
</textarea></section><section id="require" class="slide"><h2>RequireJS</h2>

<p><a href="http://requirejs.org/">RequireJS</a> is an AMD-compatible script loader (and much
more) with features including:</p>

<ul><li>Sensible <strong>module definition</strong> format</li><li><strong>Asynchronous</strong> script loading</li><li>Frontend asset <strong>bundling</strong></li><li><strong>Plugins</strong>: Internationalization, text (templates)</li><li><strong>Node.js</strong> compatibility</li></ul></section><section id="require-frontend" class="slide"><h2>RequireJS on the Frontend</h2>

<p>TODO - HERE</p>

<ul><li><p>Match version dependencies (underscore).</p></li><li><p>Module definitions</p></li><li>Data main starting point</li><li>Configuration</li></ul></section><section id="require-data-main" class="slide"><h2>RequireJS Main</h2>

<p>Let&#39;s start with a main insertion point.</p>

<p>TODO</p></section><section id="require-client-integration" class="slide"><h2>TODO</h2>

<p>TODO</p></section><section id="other-resources" class="slide"><h2>TODO</h2>

<p>TODO</p></section><section id="extra" class="slide"><h2>Extra Notes</h2>

<p>TODO: HERE -- basics and outline rest.</p>

<ul><li>Basic syntax.</li><li>RequireJS on the frontend.</li><li>RequireJS on the backend.</li><li>Shared code.</li><li>Bundling.</li><li>Plugins.</li><li><p>Curiosity Media use cases.</p><ul><li>Validation</li><li><p>Internationalization</p></li></ul></li><li><p>[jsplayground]: http://javascriptplayground.com/blog/2012/07/requirejs-amd-tutorial-introduction</p></li></ul></section><!-- deck.navigation snippet--><a href="#" title="Previous" class="deck-prev-link">&#8592;</a><a href="#" title="Next" class="deck-next-link">&#8594;</a><!-- deck.status snippet--><p class="deck-status"><span class="deck-status-current"></span>/<span class="deck-status-total"></span></p><!-- deck.goto snippet--><form action="." method="get" class="goto-form"><label for="goto-slide">Go to slide:</label><input id="goto-slide" type="text" name="slidenum" list="goto-datalist"><datalist id="goto-datalist"></datalist><input type="submit" value="Go"></form><!--deck.hash snippet--><a href="." title="Permalink to this slide" class="deck-permalink">#</a></div><!-- Required JS files.--><script src="js/vendor/jquery-1.8.2.min.js"></script><script src="js/vendor/coffee-script-1.4.0.min.js"></script><script src="core/deck.core.js"></script><!-- Plugin: CodeMirror (with CoffeeScript enhancements).--><script src="plugins/codemirror/codemirror.js"></script><script src="plugins/codemirror/mode/javascript/javascript.js"></script><script src="plugins/codemirror/mode/coffeescript/coffeescript.js"></script><script src="plugins/codemirror/deck.codemirror.js"></script><!-- Extension JS files. Add or remove as needed.--><script src="extensions/hash/deck.hash.js"></script><script src="extensions/menu/deck.menu.js"></script><script src="extensions/goto/deck.goto.js"></script><script src="extensions/status/deck.status.js"></script><script src="extensions/navigation/deck.navigation.js"></script><script src="extensions/scale/deck.scale.js"></script><!-- Initialize the deck.--><script>$(function() {
  $.deck('.slide', {
    codemirror: {
      lineNumbers: true,
      theme: "elegant",
      indentUnit: 2,
      indentWithTabs: false,
      runnable: false
    }
  });
});</script></body></html>